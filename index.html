<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DHL — Ship & Track Demo</title>
  <meta name="description" content="Demo parcel shipping site named DHL (not affiliated). Create shipments, get quotes, and track orders." />
  <style>
    :root{--brand:#ffcc00;--accent:#d40000;--bg:#f7f7fb;--card:#fff;--muted:#64748b}
    *{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#0f172a;background:var(--bg)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto}
    header{background:linear-gradient(90deg,#ffefc2, #fff);box-shadow:0 2px 8px rgba(2,6,23,0.06);position:sticky;top:0;z-index:60}
    .top{max-width:1100px;margin:0 auto;padding:14px;display:flex;align-items:center;gap:12px}
    .logo{display:flex;align-items:center;gap:10px}
    .logo h1{font-size:18px;margin:0;color:#111}
    nav{margin-left:12px;display:flex;gap:8px}
    .nav-link{padding:8px 10px;border-radius:8px;color:var(--muted)}
    .nav-link.active{background:rgba(212,0,0,0.06);color:var(--accent);font-weight:600}
    .actions{margin-left:auto;display:flex;gap:8px}
    .btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
    .ghost{background:transparent;border:1px solid #e6e9ee;padding:8px 12px;border-radius:8px}

    main{max-width:1100px;margin:22px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:2fr 1fr;gap:18px}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 8px 24px rgba(2,6,23,0.04)}

    /* hero */
    .hero{display:flex;gap:18px;align-items:center;padding:18px}
    .hero .left{flex:1}
    .hero h2{margin:0 0 8px}
    .hero p{margin:0;color:var(--muted)}

    /* forms */
    form{display:grid;gap:10px}
    input,select,textarea{padding:10px;border-radius:8px;border:1px solid #e6e9ee}
    label{font-size:13px;color:var(--muted)}

    /* lists */
    .list{display:grid;gap:8px}
    .list-item{display:flex;justify-content:space-between;gap:8px;align-items:center;padding:10px;border-radius:8px;border:1px solid #f0f3f7}

    /* tracking */
    .track-result{padding:12px;border-radius:8px;border:1px dashed #e6e9ee}

    footer{max-width:1100px;margin:36px auto;padding:18px;text-align:center;color:var(--muted);font-size:13px}

    @media(max-width:900px){.grid{grid-template-columns:1fr}.hero{flex-direction:column}.actions{display:none}}
  </style>
</head>
<body>
  <header>
    <div class="top">
      <div class="logo">
        <svg width="44" height="36" viewBox="0 0 44 36" fill="none" aria-hidden><rect width="44" height="36" rx="6" fill="var(--brand)"/><text x="8" y="23" font-family="sans-serif" font-weight="700">DHL</text></svg>
        <h1>DHL</h1>
      </div>
      <nav id="main-nav">
        <a class="nav-link" href="#/" data-route>Home</a>
        <a class="nav-link" href="#/quote" data-route>Get a Quote</a>
        <a class="nav-link" href="#/ship" data-route>Ship a Parcel</a>
        <a class="nav-link" href="#/track" data-route>Track</a>
        <a class="nav-link" href="#/services" data-route>Services</a>
      </nav>
      <div class="actions">
        <button class="ghost" id="demo-fill">Demo Fill</button>
        <button class="btn" id="new-shipment">Create Shipment</button>
      </div>
    </div>
  </header>

  <main id="app"></main>

  <footer>
    <div>Demo shipping site named <strong>DHL</strong>. This is a prototype and not affiliated with the real DHL.</div>
  </footer>

  <script>
  // Single-file shipping demo
  // Routes: #/, #/quote, #/ship, #/track, #/shipment/:id, #/services

  const STORAGE_KEY = 'dhl_demo_shipments_v1';
  const db = {
    shipments: loadFromStorage() || [],
    save(){localStorage.setItem(STORAGE_KEY, JSON.stringify(this.shipments))},
    add(s){this.shipments.unshift(s); this.save()},
    get(id){return this.shipments.find(x=>x.id===id)}
  };

  function loadFromStorage(){try{return JSON.parse(localStorage.getItem(STORAGE_KEY))||[]}catch(e){return []}}

  const app = document.getElementById('app');

  function genTracking(){return 'DHL' + Math.random().toString(36).slice(2,10).toUpperCase()}

  function el(html){const t=document.createElement('template');t.innerHTML=html.trim();return t.content.firstChild}

  function renderHome(){
    app.innerHTML = `
      <section class="grid">
        <div>
          <div class="card hero">
            <div class="left">
              <h2>Ship & Track — fast, simple</h2>
              <p>Get instant quotes, create shipments, and track orders. Demo only — not an actual carrier.</p>
              <div style="display:flex;gap:8px;margin-top:12px">
                <a class="btn" href="#/quote" data-route>Get a Quote</a>
                <a class="ghost" href="#/ship" data-route>Ship a Parcel</a>
              </div>
            </div>
            <div style="width:360px"><img src="https://via.placeholder.com/360x180?text=Ship+fast" alt="ship"></div>
          </div>

          <div style="margin-top:16px" class="card">
            <h3>Quick Tracking</h3>
            <div style="display:flex;gap:8px;margin-top:8px">
              <input id="quick-track" placeholder="Enter tracking number e.g. DHLXXXX" style="flex:1;padding:10px;border-radius:8px;border:1px solid #e6e9ee" />
              <button id="quick-track-btn" class="btn">Track</button>
            </div>
          </div>

          <div style="margin-top:16px" class="card">
            <h3>Recent Shipments</h3>
            <div id="recent-list" class="list" style="margin-top:8px"></div>
          </div>
        </div>

        <aside>
          <div class="card">
            <h4>Services</h4>
            <div style="color:var(--muted);margin-top:8px">Express — fastest; Standard — economical. Insurance and pickup available.</div>
            <ul style="margin-top:12px;color:var(--muted);font-size:14px">
              <li>International & Domestic</li>
              <li>Door-to-door pickup</li>
              <li>Customs handling</li>
              <li>Parcel insurance</li>
            </ul>
          </div>

          <div class="card" style="margin-top:12px">
            <h4>Get Help</h4>
            <div style="color:var(--muted);margin-top:8px;font-size:14px">For support, use tracking or contact our demo support: support@dhl-demo.example</div>
          </div>
        </aside>
      </section>
    `;

    attachHandlers();
    renderRecent();
  }

  // Quote calculator
  function renderQuote(){
    app.innerHTML = `
      <section class="card">
        <h3>Get a Quote</h3>
        <form id="quote-form">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
            <div><label>From (country)</label><input id="q-from" placeholder="e.g. US" required></div>
            <div><label>To (country)</label><input id="q-to" placeholder="e.g. DE" required></div>
          </div>

          <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:8px">
            <div><label>Weight (kg)</label><input id="q-weight" type="number" min="0.01" step="0.01" value="1"></div>
            <div><label>Dimensions (cm, LxWxH)</label><input id="q-dims" placeholder="30x20x10"></div>
            <div>
              <label>Service</label>
              <select id="q-service"><option value="express">Express</option><option value="standard">Standard</option></select>
            </div>
          </div>

          <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
            <button type="submit" class="btn">Calculate</button>
          </div>
        </form>

        <div id="quote-result" style="margin-top:12px"></div>
      </section>
    `;

    qs('#quote-form').addEventListener('submit', (e)=>{
      e.preventDefault();
      const from = qs('#q-from').value.trim();
      const to = qs('#q-to').value.trim();
      const weight = parseFloat(qs('#q-weight').value)||0.01;
      const dims = qs('#q-dims').value.trim();
      const service = qs('#q-service').value;
      const quote = calcQuote({from,to,weight,dims,service});
      qs('#quote-result').innerHTML = renderQuoteCard(quote);
    });

    attachHandlers();
  }

  function calcQuote({from,to,weight,service}){
    // Simple pricing model for demo only
    // zone factor: if same country cheaper
    const sameCountry = from.toLowerCase()===to.toLowerCase();
    const base = sameCountry ? 5 : 20; // base in USD
    const weightFactor = Math.max(0.5, weight) * (service==='express'?5:2.5);
    const fuel = 1 + Math.min(0.5, weight/50);
    const insurance = 0; // optional
    const total = Math.round((base + weightFactor) * fuel * 100)/100;
    return {from,to,weight,service,total,sameCountry};
  }

  function renderQuoteCard(q){
    return `<div class="card" style="margin-top:8px"><h4>Estimated Quote</h4><div style="display:flex;justify-content:space-between;gap:8px"><div><strong>$${q.total}</strong><div style="color:var(--muted);font-size:13px">Service: ${capitalize(q.service)}</div></div><div style="color:var(--muted);font-size:13px">From: ${escape(q.from)}<br>To: ${escape(q.to)}<br>Weight: ${q.weight} kg</div></div></div>`;
  }

  // Ship a parcel (create shipment)
  function renderShip(){
    app.innerHTML = `
      <section class="card">
        <h3>Create a Shipment</h3>
        <form id="ship-form">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
            <div><label>Sender name</label><input id="s-from-name" required></div>
            <div><label>Sender address</label><input id="s-from-addr" required></div>
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px">
            <div><label>Receiver name</label><input id="s-to-name" required></div>
            <div><label>Receiver address</label><input id="s-to-addr" required></div>
          </div>

          <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:8px">
            <div><label>From (country)</label><input id="s-from-country" required></div>
            <div><label>To (country)</label><input id="s-to-country" required></div>
            <div><label>Service</label><select id="s-service"><option value="express">Express</option><option value="standard">Standard</option></select></div>
          </div>

          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px">
            <div><label>Weight (kg)</label><input id="s-weight" type="number" min="0.01" step="0.01" value="1" required></div>
            <div><label>Dimensions (LxWxH cm)</label><input id="s-dims" placeholder="30x20x10"></div>
          </div>

          <div style="margin-top:8px"><label>Contents description</label><input id="s-content" placeholder="e.g. books, clothes" required></div>

          <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
            <button type="submit" class="btn">Create Shipment</button>
          </div>
        </form>

        <div id="ship-result" style="margin-top:12px"></div>
      </section>
    `;

    qs('#ship-form').addEventListener('submit', (e)=>{
      e.preventDefault();
      const shipment = {
        id: genTracking(),
        created: Date.now(),
        fromName: qs('#s-from-name').value.trim(),
        fromAddr: qs('#s-from-addr').value.trim(),
        toName: qs('#s-to-name').value.trim(),
        toAddr: qs('#s-to-addr').value.trim(),
        fromCountry: qs('#s-from-country').value.trim(),
        toCountry: qs('#s-to-country').value.trim(),
        service: qs('#s-service').value,
        weight: parseFloat(qs('#s-weight').value)||0.01,
        dims: qs('#s-dims').value.trim(),
        content: qs('#s-content').value.trim(),
        status: [{ts:Date.now(),text:'Shipment created'}]
      };
      db.add(shipment);
      qs('#ship-result').innerHTML = `<div class="track-result"><strong>Shipment created</strong><div>Tracking: <a href="#/shipment/${shipment.id}" data-route>${shipment.id}</a></div><div style="color:var(--muted);font-size:13px">Estimate: $${calcQuote({from:shipment.fromCountry,to:shipment.toCountry,weight:shipment.weight,service:shipment.service}).total}</div></div>`;
      attachHandlers();
    });

    attachHandlers();
  }

  // Track page
  function renderTrack(){
    app.innerHTML = `
      <section class="card">
        <h3>Track a Shipment</h3>
        <form id="track-form" style="display:flex;gap:8px">
          <input id="t-id" placeholder="Enter tracking ID" style="flex:1">
          <button class="btn">Track</button>
        </form>
        <div id="track-result" style="margin-top:12px"></div>
      </section>
    `;
    qs('#track-form').addEventListener('submit',(e)=>{e.preventDefault(); const id=qs('#t-id').value.trim(); showTracking(id)});
  }

  function showTracking(id){
    const wrap = qs('#track-result');
    const s = db.get(id);
    if(!s){wrap.innerHTML = `<div style="color:var(--muted)">No shipment found for <strong>${escape(id)}</strong></div>`; return}
    wrap.innerHTML = `
      <div class="card">
        <h4>Tracking: ${s.id}</h4>
        <div style="color:var(--muted);font-size:13px">Status updates</div>
        <div style="margin-top:8px">${s.status.map(st=>`<div style="padding:8px;border-top:1px solid #f2f4f8"><strong>${escape(st.text)}</strong><div style="color:var(--muted);font-size:12px">${new Date(st.ts).toLocaleString()}</div></div>`).join('')}</div>
        <div style="margin-top:12px"><strong>From:</strong> ${escape(s.fromName)}, ${escape(s.fromAddr)}<br><strong>To:</strong> ${escape(s.toName)}, ${escape(s.toAddr)}</div>
      </div>
    `;
  }

  // Shipment detail page
  function renderShipment(id){
    const s = db.get(id);
    if(!s){app.innerHTML='<p>Shipment not found</p>';return}
    app.innerHTML = `
      <section class="card">
        <h3>Shipment ${s.id}</h3>
        <div style="display:grid;grid-template-columns:1fr 280px;gap:12px">
          <div>
            <div style="color:var(--muted)">Created: ${new Date(s.created).toLocaleString()}</div>
            <h4 style="margin-top:8px">${escape(s.content)}</h4>
            <div style="margin-top:12px"><strong>From:</strong><div>${escape(s.fromName)}<br>${escape(s.fromAddr)}<br>${escape(s.fromCountry)}</div></div>
            <div style="margin-top:12px"><strong>To:</strong><div>${escape(s.toName)}<br>${escape(s.toAddr)}<br>${escape(s.toCountry)}</div></div>
            <div style="margin-top:12px"><strong>Details:</strong><div>Service: ${capitalize(s.service)} • Weight: ${s.weight} kg • Dims: ${escape(s.dims)}</div></div>

            <div style="margin-top:12px"><h4>Status</h4>${s.status.map(st=>`<div style="padding:8px;border-top:1px solid #f2f4f8"><strong>${escape(st.text)}</strong><div style="color:var(--muted);font-size:12px">${new Date(st.ts).toLocaleString()}</div></div>`).join('')}</div>

            <div style="margin-top:12px"><label>Add status update</label><div style="display:flex;gap:8px;margin-top:8px"><input id="new-status" placeholder="e.g. Out for delivery" style="flex:1;padding:8px;border-radius:8px;border:1px solid #e6e9ee"><button id="add-status" class="btn">Add</button></div></div>
          </div>

          <aside>
            <div class="card">
              <h4>Actions</h4>
              <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
                <button id="simulate-next" class="ghost">Simulate next status</button>
                <button id="copy-id" class="ghost">Copy tracking ID</button>
              </div>
            </div>
          </aside>
        </div>
      </section>
    `;

    qs('#add-status').addEventListener('click', ()=>{
      const text = qs('#new-status').value.trim(); if(!text) return; s.status.unshift({ts:Date.now(),text}); db.save(); renderShipment(id);
    });

    qs('#simulate-next').addEventListener('click', ()=>{
      const steps = ['Picked up','In transit','Arrived at sort facility','Out for delivery','Delivered'];
      const next = steps[Math.min(s.status.length, steps.length-1)]; s.status.unshift({ts:Date.now(), text:next}); db.save(); renderShipment(id);
    });

    qs('#copy-id').addEventListener('click', ()=>{navigator.clipboard.writeText(s.id).then(()=>alert('Copied'))});

    attachHandlers();
  }

  function renderServices(){
    app.innerHTML = `
      <section class="card">
        <h3>Services</h3>
        <div style="display:grid;gap:12px">
          <div class="list-item"><div><strong>Express</strong><div style="color:var(--muted);font-size:13px">Faster transit, higher cost, ideal for urgent parcels.</div></div><div><strong>Delivery: 1-3 days</strong></div></div>
          <div class="list-item"><div><strong>Standard</strong><div style="color:var(--muted);font-size:13px">Economical option with longer transit time.</div></div><div><strong>Delivery: 4-10 days</strong></div></div>
          <div class="list-item"><div><strong>Pickup</strong><div style="color:var(--muted);font-size:13px">Schedule door pickup for convenience.</div></div><div><strong>+$10</strong></div></div>
        </div>
      </section>
    `;
    attachHandlers();
  }

  // Helpers & router
  function router(){
    const hash = location.hash || '#/';
    const [path, qsPart] = hash.split('?');
    const parts = path.replace('#/','').split('/').filter(Boolean);
    setActiveNav(path);
    if(parts.length===0) renderHome();
    else if(parts[0]==='quote') renderQuote();
    else if(parts[0]==='ship') renderShip();
    else if(parts[0]==='track') renderTrack();
    else if(parts[0]==='shipment') renderShipment(parts[1]);
    else if(parts[0]==='services') renderServices();
    else renderHome();
  }

  window.addEventListener('hashchange', router);
  window.addEventListener('load', ()=>{ if(!location.hash) location.hash='#/'; router(); });

  function attachHandlers(){
    // data-route links handled by normal hash behavior; but we use this to wire demo buttons
    document.querySelectorAll('a[data-route]').forEach(a=>a.addEventListener('click', ()=>setTimeout(router,10)));
    const qb = document.getElementById('quick-track-btn'); if(qb){qb.addEventListener('click', ()=>{const id=qs('#quick-track').value.trim(); if(!id) return alert('Enter tracking'); location.hash = '#/shipment/' + id;})}
    const demo = document.getElementById('demo-fill'); if(demo) demo.onclick = ()=>{
      location.hash = '#/ship'; setTimeout(()=>{
        qs('#s-from-name').value='Alice Sender'; qs('#s-from-addr').value='10 Demo St, New York'; qs('#s-to-name').value='Bob Receiver'; qs('#s-to-addr').value='12 Sample Ave, Berlin'; qs('#s-from-country').value='US'; qs('#s-to-country').value='DE'; qs('#s-weight').value='2'; qs('#s-content').value='Books';
      },200);
    };
    const newShipBtn = document.getElementById('new-shipment'); if(newShipBtn){newShipBtn.addEventListener('click', ()=>{location.hash='#/ship'})}

    // recent list click
    const recentWrap = document.getElementById('recent-list'); if(recentWrap) recentWrap.onclick = (e)=>{ const a = e.target.closest('[data-id]'); if(a) location.hash = '#/shipment/' + a.dataset.id };
  }

  function renderRecent(){
    const wrap = qs('#recent-list'); if(!wrap) return;
    if(db.shipments.length===0){wrap.innerHTML='<div style="color:var(--muted)">No shipments yet.</div>';return}
    wrap.innerHTML = db.shipments.slice(0,6).map(s=>`<div class="list-item" data-id="${s.id}"><div><strong>${s.content}</strong><div style="color:var(--muted);font-size:13px">${s.toName} • ${s.toCountry}</div></div><div style="text-align:right"><div style="font-size:13px">${s.id}</div><div style="color:var(--muted);font-size:13px">${timeAgo(s.created)}</div></div></div>`).join('');
  }

  function timeAgo(ts){const diff=(Date.now()-ts)/1000; if(diff<60) return Math.floor(diff)+'s ago'; if(diff<3600) return Math.floor(diff/60)+'m ago'; if(diff<86400) return Math.floor(diff/3600)+'h ago'; return Math.floor(diff/86400)+'d ago'}

  function setActiveNav(path){document.querySelectorAll('#main-nav .nav-link').forEach(n=>n.classList.remove('active')); const base = path.split('?')[0]; if(base==='#/') document.querySelector('#main-nav a[href="#/"]').classList.add('active'); else{ const candidate = document.querySelector(`#main-nav a[href='${base}']`); if(candidate) candidate.classList.add('active') }}

  function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}
  function escape(s){return (s||'').toString().replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[c])}

  // small helper to expose qs quickly
  function qs(sel){return document.querySelector(sel)}

  </script>
</body>
</html>
